<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Movie reviews</title>
  </head>

  <body>
    <h1>My Movie Reviews</h1>

    <a href="{% url 'reviews:create' %}">리뷰 작성</a>

    <div>
      <br />
      <strong>정렬:</strong>
      <a href="{% url 'reviews:list' %}?sort=latest">최신순</a> |
      <a href="{% url 'reviews:list' %}?sort=oldest">오래된순</a> |
      <a href="{% url 'reviews:list' %}?sort=rating_desc">별점 높은순</a> |
      <a href="{% url 'reviews:list' %}?sort=rating_asc">별점 낮은순</a> |
      <a href="{% url 'reviews:list' %}?sort=year_desc">개봉년도 최신순</a> |
      <a href="{% url 'reviews:list' %}?sort=year_asc">개봉년도 오래된순</a> |
      <a href="{% url 'reviews:list' %}?sort=title_asc">제목순</a> |
      <a href="{% url 'reviews:list' %}?sort=title_desc">목제순</a>
    </div>
    <ul>
      {% for r in reviews %}
      <li>
        <a href="{% url 'reviews:detail' r.pk %}"> {{ r.title }} </a>
        ({{ r.release_year }}) / {{ r.genre }} / ★{{ r.rating }}
      </li>
      {% empty %}
      <li>아직 리뷰가 없습니다.</li>
      {% endfor %} {% for m in tmdb_movies %}
      <li style="display: flex; gap: 12px; margin-bottom: 12px">
        {% if m.poster_url %}
        <img src="{{ m.poster_url }}" alt="{{ m.title }}" width="80" />
        {% endif %}
        <div>
          <strong>{{ m.title }}</strong>
          ({{ m.release_year }}) / {{ m.genre }} / ★{{ m.rating }}
        </div>
      </li>
      {% endfor %}
    </ul>
  </body>
</html>
